
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>Depth to Image ¬∑ HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 5.1.1">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../4-model_training/" />
    
    
    <link rel="prev" href="inpainting.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Lectures</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../1‚Äìenter_the_latent_space/">
            
                <a href="../1‚Äìenter_the_latent_space/">
            
                    
                    1 ‚Äì Enter the Latent Space üöÄ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../1‚Äìenter_the_latent_space/machine_learning.html">
            
                <a href="../1‚Äìenter_the_latent_space/machine_learning.html">
            
                    
                    What is Machine Learning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../1‚Äìenter_the_latent_space/workflow.html">
            
                <a href="../1‚Äìenter_the_latent_space/workflow.html">
            
                    
                    Workflow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../1‚Äìenter_the_latent_space/stable_diffusion.html">
            
                <a href="../1‚Äìenter_the_latent_space/stable_diffusion.html">
            
                    
                    What is Stable Diffusion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../1‚Äìenter_the_latent_space/conditioning.html">
            
                <a href="../1‚Äìenter_the_latent_space/conditioning.html">
            
                    
                    Conditioning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="../1‚Äìenter_the_latent_space/text_to_image.html">
            
                <a href="../1‚Äìenter_the_latent_space/text_to_image.html">
            
                    
                    Text to Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.6" data-path="../1‚Äìenter_the_latent_space/cfg.html">
            
                <a href="../1‚Äìenter_the_latent_space/cfg.html">
            
                    
                    CFG scale
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.7" data-path="../1‚Äìenter_the_latent_space/prompt_engineering.html">
            
                <a href="../1‚Äìenter_the_latent_space/prompt_engineering.html">
            
                    
                    Prompt Engineering
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../2‚Äìrefine_images/">
            
                <a href="../2‚Äìrefine_images/">
            
                    
                    2 ‚Äì Refine Images üé®
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../2‚Äìrefine_images/models.html">
            
                <a href="../2‚Äìrefine_images/models.html">
            
                    
                    Models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../2‚Äìrefine_images/checkpoint_models.html">
            
                <a href="../2‚Äìrefine_images/checkpoint_models.html">
            
                    
                    Checkpoint Models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../2‚Äìrefine_images/custom_models.html">
            
                <a href="../2‚Äìrefine_images/custom_models.html">
            
                    
                    Custom Models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="../2‚Äìrefine_images/inpainting.html">
            
                <a href="../2‚Äìrefine_images/inpainting.html">
            
                    
                    Inpainting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="../2‚Äìrefine_images/outpainting.html">
            
                <a href="../2‚Äìrefine_images/outpainting.html">
            
                    
                    Outpainting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="./">
            
                <a href="./">
            
                    
                    3 ‚Äì Image Compositing üìê
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="image_to_image.html">
            
                <a href="image_to_image.html">
            
                    
                    Image to Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="inpainting.html">
            
                <a href="inpainting.html">
            
                    
                    Inpainting
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.3.3" data-path="depth_to_image.html">
            
                <a href="depth_to_image.html">
            
                    
                    Depth to Image
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../4-model_training/">
            
                <a href="../4-model_training/">
            
                    
                    4 - Model Training üíæ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../4-model_training/model_training.html">
            
                <a href="../4-model_training/model_training.html">
            
                    
                    Model Training
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="../4-model_training/embedding.html">
            
                <a href="../4-model_training/embedding.html">
            
                    
                    Embedding
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../5‚Äìextra_tips_animations/">
            
                <a href="../5‚Äìextra_tips_animations/">
            
                    
                    5 ‚Äì Extra tips & Animations üé•
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../6‚Äìfinal_presentations/">
            
                <a href="../6‚Äìfinal_presentations/">
            
                    
                    6 ‚Äì Final Presentations ‚ú®
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Resources</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../resources/articles.html">
            
                <a href="../resources/articles.html">
            
                    
                    Articles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../resources/tools.html">
            
                <a href="../resources/tools.html">
            
                    
                    Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../resources/prompt_engineering.html">
            
                <a href="../resources/prompt_engineering.html">
            
                    
                    Prompt Engineering
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../resources/models.html">
            
                <a href="../resources/models.html">
            
                    
                    Models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../resources/inpainting_outpainting.html">
            
                <a href="../resources/inpainting_outpainting.html">
            
                    
                    Inpainting / Outpainting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../resources/model_training.html">
            
                <a href="../resources/model_training.html">
            
                    
                    Model Training
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Depth to Image</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="depth-to-image">Depth to Image</h1>
<p>Depth-to-image is an enhancement to image-to-image; it generates new images with additional conditioning using a depth map.</p>
<p>Step 1. The input image is encoded into the latent state</p>
<p><img src="https://stable-diffusion-art.com/wp-content/uploads/2022/12/image-101.png" width="400px"></p>
<p>Step 2. An AI depth model estimates the depth map from the input image.</p>
<p><img src="https://stable-diffusion-art.com/wp-content/uploads/2022/12/image-102.png" width="400px"></p>
<p><em>list of depth models</em></p>
<p>Step 3. Noise is added to the latent image. Denoising strength controls how much noise is added. If the denoising strength is 0, no noise is added. If the denoising strength is 1, the maximum noise is added so that the latent image becomes a random tensor.</p>
<p><img src="https://stable-diffusion-art.com/wp-content/uploads/2022/12/image-100.png" width="400px"></p>
<p>Step 4. The noise predictor estimates the noise of the latent space, conditioned by the text prompt and the depth map.</p>
<p><img src="https://stable-diffusion-art.com/wp-content/uploads/2022/12/image-103.png" width="400px"></p>
<p>Step 5. Subtract the latent noise from the latent image. This becomes your new latent image.</p>
<p><img src="https://stable-diffusion-art.com/wp-content/uploads/2022/12/image-95.png" width="400px"></p>
<p>Steps 4 and 5 are repeated for the number of sampling steps.</p>
<p>Step 6. The decoder of VAE decodes the latent image. Now you get the final image from depth-to-image.</p>
<p><img src="https://stable-diffusion-art.com/wp-content/uploads/2022/12/image-104.png" width="400px"></p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://stable-diffusion-art.com/how-stable-diffusion-work/" target="_blank">Andrew Wong, 2023, &quot;How does Stable Diffusion work?&quot;, <em>Stable Diffusion Art</em></a></li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="inpainting.html" class="navigation navigation-prev " aria-label="Previous page: Inpainting">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../4-model_training/" class="navigation navigation-next " aria-label="Next page: 4 - Model Training üíæ">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Depth to Image","level":"2.3.3","depth":2,"next":{"title":"4 - Model Training üíæ","level":"2.4","depth":1,"path":"4-model_training/README.md","ref":"4-model_training/README.md","articles":[{"title":"Model Training","level":"2.4.1","depth":2,"path":"4-model_training/model_training.md","ref":"4-model_training/model_training.md","articles":[]},{"title":"Embedding","level":"2.4.2","depth":2,"path":"4-model_training/embedding.md","ref":"4-model_training/embedding.md","articles":[]}]},"previous":{"title":"Inpainting","level":"2.3.2","depth":2,"path":"3‚Äìimage_compositing/inpainting.md","ref":"3‚Äìimage_compositing/inpainting.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"3‚Äìimage_compositing/depth_to_image.md","mtime":"2023-10-18T19:48:33.299Z","type":"markdown"},"gitbook":{"version":"5.1.1","time":"2023-10-18T20:45:49.906Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

