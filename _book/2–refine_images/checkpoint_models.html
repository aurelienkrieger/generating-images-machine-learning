
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>Checkpoint Models ¬∑ HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 5.1.1">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="custom_models.html" />
    
    
    <link rel="prev" href="models.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Lectures</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../1‚Äìenter_the_latent_space/">
            
                <a href="../1‚Äìenter_the_latent_space/">
            
                    
                    1 ‚Äì Enter the Latent Space üöÄ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../1‚Äìenter_the_latent_space/machine_learning.html">
            
                <a href="../1‚Äìenter_the_latent_space/machine_learning.html">
            
                    
                    What is Machine Learning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../1‚Äìenter_the_latent_space/workflow.html">
            
                <a href="../1‚Äìenter_the_latent_space/workflow.html">
            
                    
                    Workflow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../1‚Äìenter_the_latent_space/stable_diffusion.html">
            
                <a href="../1‚Äìenter_the_latent_space/stable_diffusion.html">
            
                    
                    What is Stable Diffusion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../1‚Äìenter_the_latent_space/conditioning.html">
            
                <a href="../1‚Äìenter_the_latent_space/conditioning.html">
            
                    
                    Conditioning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="../1‚Äìenter_the_latent_space/text_to_image.html">
            
                <a href="../1‚Äìenter_the_latent_space/text_to_image.html">
            
                    
                    Text to Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.6" data-path="../1‚Äìenter_the_latent_space/cfg.html">
            
                <a href="../1‚Äìenter_the_latent_space/cfg.html">
            
                    
                    CFG scale
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.7" data-path="../1‚Äìenter_the_latent_space/prompt_engineering.html">
            
                <a href="../1‚Äìenter_the_latent_space/prompt_engineering.html">
            
                    
                    Prompt Engineering
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="./">
            
                <a href="./">
            
                    
                    2 ‚Äì Refine Images üé®
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="models.html">
            
                <a href="models.html">
            
                    
                    Models
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.2.2" data-path="checkpoint_models.html">
            
                <a href="checkpoint_models.html">
            
                    
                    Checkpoint Models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="custom_models.html">
            
                <a href="custom_models.html">
            
                    
                    Custom Models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="inpainting.html">
            
                <a href="inpainting.html">
            
                    
                    Inpainting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="outpainting.html">
            
                <a href="outpainting.html">
            
                    
                    Outpainting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../3‚Äìimage_compositing/">
            
                <a href="../3‚Äìimage_compositing/">
            
                    
                    3 ‚Äì Image Compositing üìê
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../3‚Äìimage_compositing/image_to_image.html">
            
                <a href="../3‚Äìimage_compositing/image_to_image.html">
            
                    
                    Image to Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../3‚Äìimage_compositing/inpainting.html">
            
                <a href="../3‚Äìimage_compositing/inpainting.html">
            
                    
                    Inpainting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../3‚Äìimage_compositing/depth_to_image.html">
            
                <a href="../3‚Äìimage_compositing/depth_to_image.html">
            
                    
                    Depth to Image
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../4-model_training/">
            
                <a href="../4-model_training/">
            
                    
                    4 - Model Training üíæ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../4-model_training/model_training.html">
            
                <a href="../4-model_training/model_training.html">
            
                    
                    Model Training
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="../4-model_training/embedding.html">
            
                <a href="../4-model_training/embedding.html">
            
                    
                    Embedding
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../5‚Äìextra_tips_animations/">
            
                <a href="../5‚Äìextra_tips_animations/">
            
                    
                    5 ‚Äì Extra tips & Animations üé•
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../6‚Äìfinal_presentations/">
            
                <a href="../6‚Äìfinal_presentations/">
            
                    
                    6 ‚Äì Final Presentations ‚ú®
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Resources</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../resources/articles.html">
            
                <a href="../resources/articles.html">
            
                    
                    Articles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../resources/tools.html">
            
                <a href="../resources/tools.html">
            
                    
                    Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../resources/prompt_engineering.html">
            
                <a href="../resources/prompt_engineering.html">
            
                    
                    Prompt Engineering
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../resources/models.html">
            
                <a href="../resources/models.html">
            
                    
                    Models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../resources/inpainting_outpainting.html">
            
                <a href="../resources/inpainting_outpainting.html">
            
                    
                    Inpainting / Outpainting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../resources/model_training.html">
            
                <a href="../resources/model_training.html">
            
                    
                    Model Training
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Checkpoint Models</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="checkpoint-models">Checkpoint models</h1>
<h2 id="stable-diffusion-v1-vs-v2">Stable Diffusion v1 vs v2</h2>
<h3 id="model-difference">Model difference</h3>
<p>Stable Diffusion v2 uses OpenClip for text embedding. Stable Diffusion v1 uses Open AI‚Äôs CLIP ViT-L/14 for text embedding. The reasons for this change are</p>
<ul>
<li>OpenClip is up five times larger. A larger text encoder model improves image quality.</li>
<li>Although Open AI‚Äôs CLIP models are open-source, the models were trained with proprietary data. Switching to the OpenClip model gives researchers more transparency in studying and optimizing the model. It is better for long-term development.</li>
</ul>
<h3 id="training-data-difference">Training data difference</h3>
<p>Stable Diffusion v1.4 is trained with</p>
<ul>
<li>237k steps at resolution 256√ó256 on laion2B-en dataset.</li>
<li>194k steps at resolution 512√ó512 on laion-high-resolution.</li>
<li>225k steps at 512√ó512 on ‚Äúlaion-aesthetics v2 5+‚Äú, with 10% dropping of text conditioning.</li>
</ul>
<p>Stable Diffusion v2 is trained with</p>
<ul>
<li>550k steps at the resolution 256x256 on a subset of LAION-5B filtered for explicit pornographic material, using the LAION-NSFW classifier with punsafe=0.1 and an aesthetic score &gt;= 4.5.</li>
<li>850k steps at the resolution 512x512 on the same dataset on images with resolution &gt;= 512x512.</li>
<li>150k steps using a v-objective on the same dataset.</li>
<li>Resumed for another 140k steps on 768x768 images.</li>
</ul>
<p>Stable Diffusion v2.1 is fine-tuned on v2.0</p>
<ul>
<li>additional 55k steps on the same dataset (with punsafe=0.1)</li>
<li>another 155k extra steps with punsafe=0.98</li>
</ul>
<p>So basically, they turned off the NSFW filter in the last training steps.</p>
<h3 id="outcome-difference">Outcome difference</h3>
<p>Users generally find it harder to use Stable Diffusion v2 to control styles and generate celebrities. Although Stability AI did not explicitly filter out artist and celebrity names, their effects are much weaker in v2. This is likely due to the difference in training data. Open AI‚Äôs proprietary data may have more artwork and celebrity photos. Their data is probably highly filtered so that everything and everyone looks fine and pretty.</p>
<p>The v2 and v2.1 models are not popular. People use the fine-tuned v1 model exclusively. But this is going to change with the release of the SDXL model.</p>
<h2 id="sdxl-model">SDXL model</h2>
<p>The SDXL model is the official upgrade to the v1 and v2 models. The model is released as open-source software.</p>
<p>It is a much larger model. In the AI world, we can expect it to be better. The total number of parameters of the SDXL model is 6.6 billion, compared with 0.98 billion for the v1.5 model.</p>
<p><img src="https://stable-diffusion-art.com/wp-content/uploads/2023/07/image-26.png" width="400px"></p>
<p>The SDXL model is, in practice, two models. You run the base model, followed by the refiner model. The base model sets the global composition. The refiner model adds finer details.</p>
<p>You can run the base model alone without the refiner.</p>
<p>The changes in the SDXL base model are:</p>
<ul>
<li>The text encoder combines the largest OpenClip model (ViT-G/14) and OpenAI‚Äôs proprietary CLIP ViT-L. It is a smart choice because it makes SDXL easy to prompt while remaining the powerful and trainable OpenClip.</li>
<li>New image size conditioning that aims to use training images smaller than 256√ó256. This significantly increases the training data by not discarding 39% of the images.</li>
<li>The U-Net is three times larger than v1.5.</li>
<li>The default image size is 1024√ó1024. This is 4 times larger than the v1.5 model‚Äôs 512√ó512. (See image sizes to use with the SDXL model)</li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><a href="https://stable-diffusion-art.com/how-stable-diffusion-work/" target="_blank">Andrew Wong, 2023, &quot;How does Stable Diffusion work?&quot;, <em>Stable Diffusion Art</em></a></li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="models.html" class="navigation navigation-prev " aria-label="Previous page: Models">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="custom_models.html" class="navigation navigation-next " aria-label="Next page: Custom Models">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Checkpoint Models","level":"2.2.2","depth":2,"next":{"title":"Custom Models","level":"2.2.3","depth":2,"path":"2‚Äìrefine_images/custom_models.md","ref":"2‚Äìrefine_images/custom_models.md","articles":[]},"previous":{"title":"Models","level":"2.2.1","depth":2,"path":"2‚Äìrefine_images/models.md","ref":"2‚Äìrefine_images/models.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"2‚Äìrefine_images/checkpoint_models.md","mtime":"2023-10-18T19:48:29.705Z","type":"markdown"},"gitbook":{"version":"5.1.1","time":"2023-10-18T20:45:49.906Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

